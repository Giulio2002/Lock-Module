

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Fast compilation &mdash; waffle  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Configuration" href="configuration.html" />
    <link rel="prev" title="Features" href="features.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> waffle
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Fast compilation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#native-solc">Native solc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#macos">MacOS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ubuntu">Ubuntu</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#project-setup">Project setup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#dockerized-solc">Dockerized solc</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">waffle</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Fast compilation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/compilation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="fast-compilation">
<h1>Fast compilation<a class="headerlink" href="#fast-compilation" title="Permalink to this headline">¶</a></h1>
<p>By default, Waffle uses solcjs. Solcjs is solidity complier cross-complied to javascript. It is slow, but easy to install.
As an alternative, you can use the native Solidity compiler, which is faster. There are two options:
1) Native solc
2) Dockerized native solc</p>
<div class="section" id="native-solc">
<h2>Native solc<a class="headerlink" href="#native-solc" title="Permalink to this headline">¶</a></h2>
<p>This option is by far the fastest but requires you to install native solidity.
If you need an old version that might be somewhat complicated and require you to build <cite>solidity</cite> from sources.
Therefore it is the recommended option if you want to use latest solidity version.</p>
<p>You can find detailed installation instructions for native <cite>solc</cite> in
<a class="reference external" href="https://solidity.readthedocs.io/en/latest/installing-solidity.html#binary-packages">documentation</a>.</p>
<p><strong>Note:</strong> You need to install version compatible with your sources.</p>
<p>If you need the latest version that is pretty straight forward, see installation instructions below.</p>
<div class="section" id="installation">
<h3>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h3>
<div class="section" id="macos">
<h4>MacOS<a class="headerlink" href="#macos" title="Permalink to this headline">¶</a></h4>
<p>To install lastest versions on MacOS:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">solidity</span>
</pre></div>
</div>
<p>To install other versions, it seems that currently, you need to build it from source:</p>
<ol class="arabic simple">
<li>Download sources from <a class="reference external" href="https://github.com/ethereum/solidity/releases">release list on GitHub</a></li>
<li>Follow installation instructions in the <a class="reference external" href="https://solidity.readthedocs.io/en/develop/installing-solidity.html#building-from-source">documentation</a></li>
</ol>
</div>
<div class="section" id="ubuntu">
<h4>Ubuntu<a class="headerlink" href="#ubuntu" title="Permalink to this headline">¶</a></h4>
<p>To install lastest versions on Ubuntu:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">add</span><span class="o">-</span><span class="n">apt</span><span class="o">-</span><span class="n">repository</span> <span class="n">ppa</span><span class="p">:</span><span class="n">ethereum</span><span class="o">/</span><span class="n">ethereum</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">solc</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="project-setup">
<h3>Project setup<a class="headerlink" href="#project-setup" title="Permalink to this headline">¶</a></h3>
<p>Setup compiler in your waffle configuration file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="o">...</span>
  <span class="s2">&quot;compiler&quot;</span><span class="p">:</span> <span class="s2">&quot;native&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You can now run tests with native solc, eg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npx</span> <span class="n">waffle</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="dockerized-solc">
<h2>Dockerized solc<a class="headerlink" href="#dockerized-solc" title="Permalink to this headline">¶</a></h2>
<p>This option is pretty easy to install especially if you have Docker installed.
This is the recommended option if you need to use old solidity version.
If you don’t have docker use <a class="reference external" href="https://www.docker.com/get-started">following instructions</a> to install it.</p>
<p>Pull solc docker container tagged with the version you are interested in, for example for version 0.4.24:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">pull</span> <span class="n">ethereum</span><span class="o">/</span><span class="n">solc</span><span class="p">:</span><span class="mf">0.4</span><span class="o">.</span><span class="mi">24</span>
</pre></div>
</div>
<p>Than setup compiler in your waffle configuration file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="o">...</span>
  <span class="s2">&quot;compiler&quot;</span><span class="p">:</span> <span class="s2">&quot;dockerized-solc&quot;</span><span class="p">,</span>
  <span class="s2">&quot;docker-tag&quot;</span><span class="p">:</span> <span class="s2">&quot;0.4.24&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Default docker tag is <cite>latest</cite>.</p>
<p>You can now run tests in docker.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="configuration.html" class="btn btn-neutral float-right" title="Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="features.html" class="btn btn-neutral" title="Features" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Marek Kirejczyk

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>